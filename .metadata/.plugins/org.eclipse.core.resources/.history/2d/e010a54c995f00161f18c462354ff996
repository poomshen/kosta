package teamFunction;

import java.util.ArrayList;
import java.util.Arrays;
import java.util.Collections;
import java.util.HashMap;

//경기 하는데에  필요한 함수 를 모아둔 클래스
public class Match {
   HashMap<String, Integer> match = new HashMap<>();
   FileDB f = new FileDB();
   static String[] array2 = { "광주", "서울", "성남", "전북", "전남", "인천", "제주", "포항" };
   TeamPlayer tp = new TeamPlayer();
   ArrayList<String> arrayList = new ArrayList<>();
   public Match() {
      match.put("광주", tp.keyplayer_Select("광주"));
      match.put("서울", tp.keyplayer_Select("서울"));
      match.put("성남", tp.keyplayer_Select("성남"));
      match.put("전북", tp.keyplayer_Select("전북"));
      match.put("전남", tp.keyplayer_Select("전남"));
      match.put("인천", tp.keyplayer_Select("인천"));
      match.put("제주", tp.keyplayer_Select("제주"));
      match.put("포항", tp.keyplayer_Select("포항"));
      // 각 팀의 이름과 hp의 평균치를 hashmap에 저장

   }

   public void match_First() {
      // 랜덤 함수로 8개의 팀을 매치

      Collections.shuffle(Arrays.asList(array2));
      int index = 0;
      for (String value : array2) {
         array2[index] = value;
         index++;
      }
      
      f.match_Writer(array2);
      System.out.println("-----------8강 전--------------");
      for (int i = 0; i < 8; i += 2) {
         System.out.println("    " + array2[i] + "vs" + array2[i + 1]);
      }
   }
   
   public void quarter_Final() {
      // hp가큰것->0,2,4,6이 짝수로 가도록 할 것
      // 작은것 ->1,3,5,7

	   
	   arrayList = f.math_Reader();
	   
      String temp = null;

      for (int i = 0; i < arrayList.size(); i += 2) {

         if (match.get(arrayList.get(i)) <= match.get(arrayList.get(i+1))) {
            temp = arrayList.get(i);
            arrayList.set(i,arrayList.get(i + 1));
            arrayList.set(i+1,temp);
            }
      }
      
     ArrayList<String> all = new ArrayList<>();
      System.out.println("---------8강 우승팀--------------");
      int index=0;
      for (int i = 0; i <  arrayList.size(); i += 2) {
         System.out.println(arrayList.get(i));
         all.add(arrayList.get(i));
      }
      f.match_Writer(all);

      
      // array함수에 짝수번에 있는 것이 준결승에 올라간다

   }

   public String[] semi_Final(String[] array2) {
      // 0,2,4,6배열중에 0vs2번방중 큰값이 0번방에 4vs6번방중 큰값이 4번
	   
      System.out.println("-----------4강 전--------------");
      for (int i = 0; i < 5; i += 4) {
         System.out.println("    " + array2[i] + "vs" + array2[i + 2]);
      }

      String temp = null;

      for (int i = 0; i < 5; i += 4) {

         if (match.get(array2[i]) < match.get(array2[i + 2])) {
            temp = array2[i];
            array2[i] = array2[i + 2];
            array2[i + 2] = temp;

         }
      }

      System.out.println("---------4강 우승팀--------------");
      for (int i = 0; i < 7; i += 4) {
         System.out.println(array2[i]);
      }

      return array2;
   }

   public void Final(String[] array2) {
     String temp;
     System.out.println("-----------결승전--------------");
      System.out.println("    " + array2[0] + "vs" + array2[4]);
      System.out.println("--------------우승--------------");
      if (match.get(array2[0]) < match.get(array2[4])) {
         System.out.println(array2[4] + "이 우승!!");
      } else {
         System.out.println(array2[0] + "이 우승 !!");
      }
      if (match.get(array2[0]) < match.get(array2[4])) {
      temp = array2[0];
      array2[0] = array2[4];
      array2[4] = temp;
      }

   }

   // 매치한것을 프린트

   // 토너먼트 매치
   // hp에 따라 결정
   // 파일db를 불러서 파일에 관한 기능을 처리

}